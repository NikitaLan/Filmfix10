{"mappings":"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","sources":["src/js/queue-list.js","src/js/library-modal.js","src/js/whatched-list.js"],"sourcesContent":["const refs = {\n  queueBtn: document.querySelector('.btn-queue'),\n  queueList: document.querySelector('.gallery-library__list'),\n  textOoops: document.querySelector('.empty'),\n};\n\nconst STORAGE_KEY = 'queue-list';\nlet queueList = {};\n\n// refs.watchedBtn.addEventListener('click', takeListFromStorage);\n\nfunction takeListFromStorage() {\n  const listFromStorage = localStorage.getItem(STORAGE_KEY);\n  queueList = JSON.parse(listFromStorage);\n\n  refs.watchedList.insertAdjacentHTML(\n    'afterbegin',\n    cardMarkup(queueList.results)\n  );\n  refs.textOoops.classList.add('visually-hidden');\n  refs.watchedList.classList.remove('visually-hidden');\n}\n","'use strict';\n\nimport { handleModalOpenClose } from './movie-modal/handle-modal-close';\nimport { fetchPictures } from './movie-modal/fetch-from-API';\nimport { handleApiData } from './movie-modal/handle-API-data';\nimport { PAGE_OPEN, renderList } from './whatched-list';\nimport {handleApiTrailerData} from './trailer';\n\nimport {\n  createArrayLocalStorage,\n  loadFromLocalStorage,\n  removeLocalStorage,\n  saveToLocalStorage,\n  renameBtn,\n  renameBtnTextCont,\n} from './watched-queue-btns/fun-watched-queue'; // üíôüíõ Koshyk Kostiantyn\nconst trailerBtn = document.querySelector('.modal-movie__trailer-btn');\n\nconst refs = {\n  libraryListOfWatched: document.querySelector('.gallery-library__list'), //<ul> –∑ –ø–µ—Ä–µ–≥–ª—è–Ω—É—Ç–∏–º–∏ —Ñ—ñ–ª—å–º–∞–º–∏\n  movieModalContainer: document.querySelector('.modal-movie'), // –º–æ–¥–∞–ª–∫–∞\n  movieModalCommandBtns: document.querySelectorAll(\n    '.modal-movie__command-btns'\n  ), // –∫–æ–º–∞–Ω–¥–Ω—ñ –∫–Ω–æ–ø–∫–∏\n  btnAddToWatched: document.querySelector('.modal-movie__add-to-watched-btn'), // üíôüíõ Koshyk Kostiantyn\n  btnQueue: document.querySelector('.modal-movie__add-to-queue-btn'), // üíôüíõ Koshyk Kostiantyn\n};\n\nrefs.libraryListOfWatched.addEventListener('click', handleTrandingMoviesClick); //<ul> –∑ –ø–µ—Ä–µ–≥–ª—è–Ω—É—Ç–∏–º–∏ —Ñ—ñ–ª—å–º–∞–º–∏\n\nremoveLocalStorage('watched'); // üíôüíõ Koshyk Kostiantyn\nremoveLocalStorage('queue'); // üíôüíõ Koshyk Kostiantyn\n\n//-----------------–û—Å–Ω–æ–≤–Ω–∞ —Ñ—É–Ω–∫—Ü—ñ—è------------------------------------\n\nasync function handleTrandingMoviesClick(event) {\n  // –≤ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ –∫–ª—ñ–∫—É –Ω–∞ –±—É–¥—å-—è–∫—É –∫–∞—Ä—Ç–∫—É —Ñ—ñ–ª—å–º—É:\n  let pickedMovieId = event.target.dataset.id;\n\n  createArrayLocalStorage('watched'); // üíôüíõ Koshyk Kostiantyn\n  createArrayLocalStorage('queue'); // üíôüíõ Koshyk Kostiantyn\n\n  renameBtn(\n    refs.btnAddToWatched,\n    'watched',\n    'Add to watched',\n    'Remove from watched',\n    pickedMovieId,\n    'active-btn--yellow'\n  ); // üíôüíõ Koshyk Kostiantyn\n  renameBtn(\n    refs.btnQueue,\n    'queue',\n    'Add to queue',\n    'Remove from queue',\n    pickedMovieId,\n    'active-btn--yellow'\n  ); // üíôüíõ Koshyk Kostiantyn\n\n  // üíôüíõ Koshyk Kostiantyn (–¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ add-to-watched.js)\n  dataModalFilm = fetchPictures(pickedMovieId);\n\n  if (\n    event.target.nodeName !== 'IMG' &&\n    event.target.nodeName !== 'P' &&\n    event.target.nodeName !== 'H2' &&\n    event.target.nodeName !== 'H3' &&\n    event.target.nodeName !== 'B'\n  ) {\n    return;\n  }\n\n  handleModalOpenClose();\n  refs.movieModalContainer.classList.add('modal-movie--background-yellow');\n  //   modal-movie--background-red\n\n  handleApiData(pickedMovieId, 'modal-movie__meta-data--yellow');\n\n  refs.movieModalCommandBtns.forEach(movieModalCommandBtn => {\n    movieModalCommandBtn.classList.add('modal-movie__command-btns--yellow');\n  });\n\n  document.body.style.overflow = 'hidden'; //—â–æ–± body –Ω–µ —Å–∫—Ä–æ–ª–∏–≤—Å—è –ø—Ä–∏ –≤—ñ–¥–∫—Ä–∏—Ç—ñ–π –º–æ–¥–∞–ª—Ü—ñ\n  trailerBtn.addEventListener('click', click)\n  function click() {\n\n    handleApiTrailerData(pickedMovieId)\n    trailerBtn.removeEventListener('click', click)\n  }\n}\n\n// ========================= —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –¥–ª—è –∫–Ω–æ–ø–æ–∫ \"Add to watcheed\" –∏ \"Add to queue\" üíôüíõ Koshyk Kostiantyn\n\nlet dataModalFilm = {}; // –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ add-to-watched.js\n\nconst btnAddToWatchedEl = document.querySelector(\n  '.modal-movie__add-to-watched-btn'\n);\nconst btnQueue = document.querySelector('.modal-movie__add-to-queue-btn');\n\nbtnAddToWatchedEl.addEventListener('click', onAddFilmToWatched);\nbtnQueue.addEventListener('click', onQueue);\n\nfunction onAddFilmToWatched() {\n  dataModalFilm.then(data => {\n    let getLocalStorage = loadFromLocalStorage('watched');\n\n    if (!getLocalStorage.find(el => el.id === data.id)) {\n      getLocalStorage.push(data);\n      saveToLocalStorage('watched', getLocalStorage);\n\n      renameBtnTextCont(btnAddToWatchedEl, 'Remove from watched');\n      btnAddToWatchedEl.classList.add('active-btn--yellow');\n\n      if (PAGE_OPEN === 1) {\n        renderList(getLocalStorage);\n      }\n    } else {\n      const index = getLocalStorage.findIndex(el => el.id === data.id);\n\n      getLocalStorage.splice(index, 1);\n      localStorage.setItem('watched', JSON.stringify(getLocalStorage));\n\n      renameBtnTextCont(btnAddToWatchedEl, 'Add to watched');\n      btnAddToWatchedEl.classList.remove('active-btn--yellow');\n      if (PAGE_OPEN === 1) {\n        renderList(getLocalStorage);\n      }\n    }\n  });\n}\n\nfunction onQueue() {\n  dataModalFilm.then(data => {\n    let getLocalStorage = loadFromLocalStorage('queue');\n\n    if (!getLocalStorage.find(el => el.id === data.id)) {\n      getLocalStorage.push(data);\n      saveToLocalStorage('queue', getLocalStorage);\n\n      renameBtnTextCont(btnQueue, 'Remove from queue');\n\n      btnQueue.classList.add('active-btn--yellow');\n      if (PAGE_OPEN === 2) {\n        renderList(getLocalStorage);\n      }\n    } else {\n      const index = getLocalStorage.findIndex(el => el.id === data.id);\n\n      getLocalStorage.splice(index, 1);\n      localStorage.setItem('queue', JSON.stringify(getLocalStorage));\n\n      renameBtnTextCont(btnQueue, 'Add to queue');\n      btnQueue.classList.remove('active-btn--yellow');\n      if (PAGE_OPEN === 2) {\n        renderList(getLocalStorage);\n      }\n    }\n  });\n}\n","import { makeLibraryGalleryMarkUp } from '../js/makeGalleryMarkUpCard';\nimport makeRatingColor from './ratingColor';\nimport { loadFromLocalStorage } from '/src/js/watched-queue-btns/fun-watched-queue'; // üíôüíõ Koshyk Kostiantyn\n\nconst refs = {\n  watchedBtn: document.querySelector('.btn-watched'),\n  queueBtn: document.querySelector('.btn-queue'),\n  watchedList: document.querySelector('.gallery-library__list'),\n  textOoops: document.querySelector('.empty'),\n};\n\nexport let PAGE_OPEN = 1;\n\nrefs.watchedBtn.classList.add('active');\n\nrefs.watchedBtn.addEventListener('click', () => {\n  refs.watchedBtn.classList.add('active');\n  refs.queueBtn.classList.remove('active');\n});\n\nrefs.queueBtn.addEventListener('click', () => {\n  refs.queueBtn.classList.add('active');\n  refs.watchedBtn.classList.remove('active');\n});\n\nwindow.addEventListener('load', onLibWatchedBtnClick);\nrefs.watchedBtn.addEventListener('click', onLibWatchedBtnClick);\nrefs.queueBtn.addEventListener('click', onLibQueueBtnClick);\n\nfunction onLibWatchedBtnClick() {\n  let watched = loadFromLocalStorage('watched');\n  PAGE_OPEN = 1;\n  if (!watched) {\n    return;\n  } else if (watched.length === 0) {\n    refs.textOoops.classList.remove('visually-hidden');\n    refs.watchedList.innerHTML = '';\n    return;\n  }\n  renderList(watched);\n}\nfunction onLibQueueBtnClick() {\n  let queue = loadFromLocalStorage('queue');\n\n  PAGE_OPEN = 2;\n  if (!queue) {\n    return;\n  } else if (queue.length === 0) {\n    refs.textOoops.classList.remove('visually-hidden');\n    refs.watchedList.innerHTML = '';\n    return;\n  }\n\n  renderList(queue);\n}\n\nexport function renderList(array) {\n  const filmList = array;\n\n  if (filmList.length === 0) {\n    refs.textOoops.classList.remove('visually-hidden');\n    refs.watchedList.innerHTML = '';\n    return;\n  }\n\n  const watchedList = makeList(filmList);\n\n  refs.textOoops.classList.add('visually-hidden');\n  refs.watchedList.innerHTML = '';\n  refs.watchedList.classList.remove('visually-hidden');\n  refs.watchedList.insertAdjacentHTML('beforeend', watchedList);\n  makeRatingColor();\n\n  function makeList(array) {\n    return array.reduce((acc, el) => {\n      return acc + makeLibraryGalleryMarkUp(el);\n    }, '');\n  }\n}\n\nwindow.addEventListener('load', () => {\n  if (refs.watchedBtn) {\n    refs.watchedBtn.checked = true;\n    refs.watchedBtn.parentNode.classList.add('checked');\n  }\n});\n"],"names":["document","querySelector","$bpxeT","parcelRequire","$jVDuT","$bfe0251d0a73a9e6$var$refs","watchedBtn","queueBtn","watchedList","textOoops","$bfe0251d0a73a9e6$export$c4328c96217f7292","$bfe0251d0a73a9e6$var$onLibWatchedBtnClick","watched","$h4oNJ","loadFromLocalStorage","length","classList","remove","innerHTML","$bfe0251d0a73a9e6$export$4bf387f59bfc6d67","array1","filmList","reduce","acc","el","makeLibraryGalleryMarkUp","add","insertAdjacentHTML","$gIqCw","default","addEventListener","window","queue","checked","parentNode","$f3e59abbf028fd14$var$trailerBtn","$f3e59abbf028fd14$var$refs","libraryListOfWatched","movieModalContainer","movieModalCommandBtns","querySelectorAll","btnAddToWatched","btnQueue","$f3e59abbf028fd14$var$_handleTrandingMoviesClick","$parcel$interopDefault","$2TvXO","mark","_callee","event","pickedMovieId","click","$cDXQO","handleApiTrailerData","removeEventListener","target","dataset","id","createArrayLocalStorage","renameBtn","$f3e59abbf028fd14$var$dataModalFilm","$4mCOx","fetchPictures","nodeName","$kPudI","handleModalOpenClose","$juZTq","handleApiData","forEach","movieModalCommandBtn","body","style","overflow","apply","this","arguments","removeLocalStorage","$f3e59abbf028fd14$var$btnAddToWatchedEl","$f3e59abbf028fd14$var$btnQueue","then","data","getLocalStorage","find","index","findIndex","splice","localStorage","setItem","JSON","stringify","renameBtnTextCont","push","saveToLocalStorage"],"version":3,"file":"library.ecf7f373.js.map"}