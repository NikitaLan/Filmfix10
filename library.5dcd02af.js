var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},a={},o=e.parcelRequired7c6;null==o&&((o=function(e){if(e in t)return t[e].exports;if(e in a){var o=a[e];delete a[e];var d={id:e,exports:{}};return t[e]=d,o.call(d.exports,d,d.exports),d.exports}var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}).register=function(e,t){a[e]=t},e.parcelRequired7c6=o);document.querySelector(".btn-queue"),document.querySelector(".gallery-library__list"),document.querySelector(".empty");var d=o("fb0WN"),n=o("3hqqe"),i=o("fYdb4"),l=o("ih2xg"),c=o("gs8qp"),r=o("9C8iL");const s={watchedBtn:document.querySelector(".btn-watched"),queueBtn:document.querySelector(".btn-queue"),watchedList:document.querySelector(".gallery-library__list"),textOoops:document.querySelector(".empty")};let u=1;function m(){let e=(0,r.loadFromLocalStorage)("watched");if(u=1,e)return 0===e.length?(s.textOoops.classList.remove("visually-hidden"),void(s.watchedList.innerHTML="")):void v(e)}function v(e){const t=e;if(0===t.length)return s.textOoops.classList.remove("visually-hidden"),void(s.watchedList.innerHTML="");const a=t.reduce(((e,t)=>e+(0,l.makeLibraryGalleryMarkUp)(t)),"");s.textOoops.classList.add("visually-hidden"),s.watchedList.innerHTML="",s.watchedList.classList.remove("visually-hidden"),s.watchedList.insertAdjacentHTML("beforeend",a),(0,c.default)()}s.watchedBtn.classList.add("active"),s.watchedBtn.addEventListener("click",(()=>{s.watchedBtn.classList.add("active"),s.queueBtn.classList.remove("active")})),s.queueBtn.addEventListener("click",(()=>{s.queueBtn.classList.add("active"),s.watchedBtn.classList.remove("active")})),window.addEventListener("load",m),s.watchedBtn.addEventListener("click",m),s.queueBtn.addEventListener("click",(function(){let e=(0,r.loadFromLocalStorage)("queue");if(u=2,!e)return;if(0===e.length)return s.textOoops.classList.remove("visually-hidden"),void(s.watchedList.innerHTML="");v(e)})),window.addEventListener("load",(()=>{s.watchedBtn&&(s.watchedBtn.checked=!0,s.watchedBtn.parentNode.classList.add("checked"))}));var h=o("37v9V");r=o("9C8iL");const L=document.querySelector(".modal-movie__trailer-btn"),y={libraryListOfWatched:document.querySelector(".gallery-library__list"),movieModalContainer:document.querySelector(".modal-movie"),movieModalCommandBtns:document.querySelectorAll(".modal-movie__command-btns"),btnAddToWatched:document.querySelector(".modal-movie__add-to-watched-btn"),btnQueue:document.querySelector(".modal-movie__add-to-queue-btn")};y.libraryListOfWatched.addEventListener("click",(async function(e){let t=e.target.dataset.id;if((0,r.createArrayLocalStorage)("watched"),(0,r.createArrayLocalStorage)("queue"),(0,r.renameBtn)(y.btnAddToWatched,"watched","Add to watched","Remove from watched",t,"active-btn--yellow"),(0,r.renameBtn)(y.btnQueue,"queue","Add to queue","Remove from queue",t,"active-btn--yellow"),w=(0,n.fetchPictures)(t),"IMG"!==e.target.nodeName&&"P"!==e.target.nodeName&&"H2"!==e.target.nodeName&&"H3"!==e.target.nodeName&&"B"!==e.target.nodeName)return;(0,d.handleModalOpenClose)(),y.movieModalContainer.classList.add("modal-movie--background-yellow"),(0,i.handleApiData)(t,"modal-movie__meta-data--yellow"),y.movieModalCommandBtns.forEach((e=>{e.classList.add("modal-movie__command-btns--yellow")})),document.body.style.overflow="hidden",L.addEventListener("click",(function e(){(0,h.handleApiTrailerData)(t),L.removeEventListener("click",e)}))})),(0,r.removeLocalStorage)("watched"),(0,r.removeLocalStorage)("queue");let w={};const f=document.querySelector(".modal-movie__add-to-watched-btn"),q=document.querySelector(".modal-movie__add-to-queue-btn");f.addEventListener("click",(function(){w.then((e=>{let t=(0,r.loadFromLocalStorage)("watched");if(t.find((t=>t.id===e.id))){const a=t.findIndex((t=>t.id===e.id));t.splice(a,1),localStorage.setItem("watched",JSON.stringify(t)),(0,r.renameBtnTextCont)(f,"Add to watched"),f.classList.remove("active-btn--yellow"),1===u&&v(t)}else t.push(e),(0,r.saveToLocalStorage)("watched",t),(0,r.renameBtnTextCont)(f,"Remove from watched"),f.classList.add("active-btn--yellow"),1===u&&v(t)}))})),q.addEventListener("click",(function(){w.then((e=>{let t=(0,r.loadFromLocalStorage)("queue");if(t.find((t=>t.id===e.id))){const a=t.findIndex((t=>t.id===e.id));t.splice(a,1),localStorage.setItem("queue",JSON.stringify(t)),(0,r.renameBtnTextCont)(q,"Add to queue"),q.classList.remove("active-btn--yellow"),2===u&&v(t)}else t.push(e),(0,r.saveToLocalStorage)("queue",t),(0,r.renameBtnTextCont)(q,"Remove from queue"),q.classList.add("active-btn--yellow"),2===u&&v(t)}))})),o("8Yq9A");
//# sourceMappingURL=library.5dcd02af.js.map
