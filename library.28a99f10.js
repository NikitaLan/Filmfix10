!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},r={},n={},a=t.parcelRequired7c6;null==a&&((a=function(e){if(e in r)return r[e].exports;if(e in n){var t=n[e];delete n[e];var a={id:e,exports:{}};return r[e]=a,t.call(a.exports,a,a.exports),a.exports}var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,t){n[e]=t},t.parcelRequired7c6=a);var o=a("bpxeT"),c=a("2TvXO"),d=a("jVDuT"),u={watchedBtn:document.querySelector(".btn-watched"),watchedList:document.querySelector(".gallery-library__list"),textOoops:document.querySelector(".empty")},i="https://api.themoviedb.org/3/movie/",l="3dd9518c386fd347d5f1ac2580a699a4";function s(){return(s=e(o)(e(c).mark((function t(r){var n,a;return e(c).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(i).concat(r,"?api_key=").concat(l,"&language=en-US"));case 2:return n=e.sent,e.next=5,n.json();case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}}),t)})))).apply(this,arguments)}u.watchedBtn.addEventListener("click",(function(){console.log("click on btn Watched"),function(e){try{var t=localStorage.getItem(e);return null===t?void 0:JSON.parse(t)}catch(e){console.error("Get state error: ",e.message)}}("watched").map((function(e){(function(e){return s.apply(this,arguments)})(e).then((function(e){return console.log(e),u.watchedList.insertAdjacentHTML("beforeend",(0,d.makeLibraryGalleryMarkUp)(e))}))})),u.textOoops.classList.add("visually-hidden"),u.watchedList.classList.remove("visually-hidden")}));document.querySelector(".btn-queue"),document.querySelector(".gallery-library__list"),document.querySelector(".empty");o=a("bpxeT"),c=a("2TvXO");var f=a("kPudI"),p=a("4mCOx"),y=a("juZTq");function h(){return(h=e(o)(e(c).mark((function t(r){var n;return e(c).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.target.dataset.id,(0,p.fetchPictures)(n),"IMG"===r.target.nodeName||"P"===r.target.nodeName||"H2"===r.target.nodeName||"H3"===r.target.nodeName||"B"===r.target.nodeName){e.next=4;break}return e.abrupt("return");case 4:(0,f.handleModalOpenClose)(),(0,y.handleApiData)(n),document.body.style.overflow="hidden";case 7:case"end":return e.stop()}}),t)})))).apply(this,arguments)}({libraryListOfWatched:document.querySelector(".gallery-library__list"),btnAddToWatched:document.querySelector(".modal-movie__add-to-watched-btn"),btnQueue:document.querySelector(".modal-movie__add-to-queue-btn")}).libraryListOfWatched.addEventListener("click",(function(e){return h.apply(this,arguments)}))}();
//# sourceMappingURL=library.28a99f10.js.map
